<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>A Pelican Blog - linux</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="A Pelican Blog Atom Feed" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">A Pelican Blog </a></h1>
                <nav><ul>
                    <li><a href="/pages/about.html">About</a></li>
                    <li><a href="/pages/research.html">Research</a></li>
                    <li><a href="/pages/technology.html">Technology</a></li>
                    <li><a href="/category/updates.html">updates</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="/how-to-install-torchcraft-and-set-up-a-programming-environment-on-linux.html">How To Install TorchCraft and Set Up a Programming Environment on Linux</a></h1>
<footer class="post-info">
        <abbr class="published" title="2020-07-09T00:00:00+00:00">
                Published: Thu 09 July 2020
        </abbr>

<p>In <a href="/category/updates.html">updates</a>.</p>
<p>tags: <a href="/tag/tutorial.html">tutorial</a> <a href="/tag/starcraft.html">starcraft</a> <a href="/tag/linux.html">linux</a> </p>
</footer><!-- /.post-info --><p>{% img [class name(s)] /images/python.jpg %}</p>
<p>Python is an interpreted, high-level, general-purpose programming language with strengths in automation, data analysis and machine learning.</p>
<p>This tutorial will walk you through installing Python 3 and setting up a programming environment on Debian 10.</p>
<h2>Step 0 - Update and Upgrade</h2>
<p>Logged into your system as root, first update and upgrade to ensure your shipped version of Python 3 is up-to-date.</p>
<div class="highlight"><pre><span></span>apt update
</pre></div>


<div class="highlight"><pre><span></span>apt upgrade
</pre></div>


<p>Confirm upgrade when prompted to do so.</p>
<h2>Step 1 - Check Version of Python</h2>
<p>Check your version of Python 3 installed by typing:</p>
<div class="highlight"><pre><span></span>python3 --version
</pre></div>


<p>You'll receive output similar to the following.</p>
<div class="highlight"><pre><span></span>Python 3.7.3
</pre></div>


<h2>Step 2 - Install pip</h2>
<p>To manage software packages for Python, install <code>pip</code>, the standard package installer for Python. You can use pip to install things from the official package index and other indexes. </p>
<div class="highlight"><pre><span></span>apt install -y python3-pip
</pre></div>


<p>Python packages can be installed by typing:</p>
<div class="highlight"><pre><span></span>pip3 install schematics 
</pre></div>


<p>Here, <code>schematics</code> can refer to any Python package, such as tornado for backend development or NumPy for scientific computing. </p>
<h2>Step 3 - Install Additional Tools</h2>
<p>There are a few more packages and development tools to install to ensure that we have a robust set-up for our StarCraft: Brood War Python TorchCraft bots programming environment:</p>
<div class="highlight"><pre><span></span>apt -y install --install-recommends vim git apt-transport-https\
 gnupg2 wget software-properties-common curl build-essential\
 gfortran sudo pkg-config make cmake libyaml-0-2 libyaml-dev
</pre></div>


<div class="highlight"><pre><span></span>dpkg --add-architecture i386
</pre></div>


<div class="highlight"><pre><span></span>apt-add-repository contrib 
</pre></div>


<div class="highlight"><pre><span></span>apt -y install --install-recommends libgnutls30:i386 libldap-2.4-2:i386\
 libgpg-error0:i386 libxml2:i386 libasound2-plugins:i386 libsdl2-2.0-0:i386\
 libfreetype6:i386 libdbus-1-3:i386 libsqlite3-0:i386 libgl1-mesa-glx:i386\
 libgl1-mesa-dri:i386 libsdl2-2.0-0 libstb0 libstb0:i386 mesa-vulkan-drivers
</pre></div>


<h2>Step 4 - Add the WineHQ Debian repository</h2>
<p>Get and install the repository key.</p>
<div class="highlight"><pre><span></span>wget -nc https://dl.winehq.org/wine-builds/winehq.key &amp;&amp; apt-key add winehq.key
</pre></div>


<div class="highlight"><pre><span></span>apt-add-repository &#39;deb https://dl.winehq.org/wine-builds/debian/ buster main&#39;
</pre></div>


<div class="highlight"><pre><span></span>apt update &amp;&amp; rm winehq.key
</pre></div>


<h2>Step 5 - Install libfaudio0 and Wine</h2>
<p>Starting on Wine &gt;= 4.5, libfaudio0 is required by the staging packages provided by WineHQ but is not included in the Wine HQ packages, which means you are responsible for making libfaudio0 available prior to installing Wine. This explains how to obtain libfaudio0 for Debian 10.</p>
<div class="highlight"><pre><span></span>wget -nc https://download.opensuse.org/repositories/Emulators:/Wine:/Debian/Debian_10/amd64/libfaudio0_20.01-0~buster_amd64.deb
</pre></div>


<div class="highlight"><pre><span></span>wget -nc https://download.opensuse.org/repositories/Emulators:/Wine:/Debian/Debian_10/i386/libfaudio0_20.01-0~buster_i386.deb
</pre></div>


<div class="highlight"><pre><span></span>dpkg -i libfaudio0_20.01-0~buster_amd64.deb
</pre></div>


<div class="highlight"><pre><span></span>dpkg -i libfaudio0_20.01-0~buster_i386.deb
</pre></div>


<div class="highlight"><pre><span></span>apt -y install --install-recommends winehq-staging winetricks
</pre></div>


<h2>Step 6 - Configuring WINE</h2>
<p>Many programs work under WINE with absolutely no configuration.. unfortunately, this isn't always the case.</p>
<h3>(default) using your own <code>non-root</code> user</h3>
<p>The following commands MUST be executed as a normal non-root user, if you already have an existing wine setup, you can <em>REMOVE</em> it and start clean with <code>rm -rf ~/.wine/</code></p>
<div class="highlight"><pre><span></span>$ <span class="nv">WINEARCH</span><span class="o">=</span>win32<span class="p">;</span> wineboot
</pre></div>


<div class="highlight"><pre><span></span>$ winetricks -q vcrun2012
</pre></div>


<div class="highlight"><pre><span></span>$ winetricks -q vcrun2013
</pre></div>


<div class="highlight"><pre><span></span>$ winetricks -q vcrun2015
</pre></div>


<h3>(optional) using a separate <code>wine</code> user</h3>
<div class="highlight"><pre><span></span>adduser --disabled-login --gecos &quot;&quot; --shell /forbid/login wine
</pre></div>


<div class="highlight"><pre><span></span>usermod --append --groups audio wine
</pre></div>


<div class="highlight"><pre><span></span>chown wine:wine -R /home/wine
</pre></div>


<div class="highlight"><pre><span></span>sudo -u wine env HOME=/home/wine USER=wine USERNAME=wine LOGNAME=wine WINEARCH=win32 wineboot
</pre></div>


<div class="highlight"><pre><span></span>sudo -u wine env HOME=/home/wine USER=wine USERNAME=wine LOGNAME=wine winetricks -q vcrun2012
</pre></div>


<div class="highlight"><pre><span></span>sudo -u wine env HOME=/home/wine USER=wine USERNAME=wine LOGNAME=wine winetricks -q vcrun2013
</pre></div>


<div class="highlight"><pre><span></span>sudo -u wine env HOME=/home/wine USER=wine USERNAME=wine LOGNAME=wine winetricks -q vcrun2015
</pre></div>


<h2>Step 7 - StarCraft: Brood War 1.16.1</h2>
<p>At the moment StarCraft: Remastered is <em>NOT</em> yet supported, the only working version is 1.16.1.</p>
<div class="highlight"><pre><span></span>git clone https://github.com/spacebeam/starcraft-sif.git /usr/src/starcraft-sif
</pre></div>


<p>In this tutorial we have StarCraft installed in <code>/opt/StarCraft/</code></p>
<div class="highlight"><pre><span></span>cat /usr/src/starcraft-sif/include/core/core* &gt; /opt/StarCraft.tar.gz
</pre></div>


<div class="highlight"><pre><span></span>tar -zxvf /opt/StarCraft.tar.gz -C /opt/
</pre></div>


<h3>Installing the provided Python examples</h3>
<p>This will install Tornado, PyTorch, PyZMQ, NumPy and SciPy!</p>
<div class="highlight"><pre><span></span>pip3 install -r /usr/src/starcraft-sif/examples/blueberry/requirements.txt
</pre></div>


<h3>Installing TorchCraft</h3>
<div class="highlight"><pre><span></span>git clone https://github.com/TorchCraft/TorchCraft.git /usr/src/TorchCraft --recursive
</pre></div>


<div class="highlight"><pre><span></span>pip3 install /usr/src/TorchCraft
</pre></div>


<h2>Step 8 - Coding &amp; Building</h2>
<p>Lets continue this tutorial with the ambitious goal of create a small Terran bot with a single timing attack, but first.. check that everything is installed correctly and that we can run the original examples.</p>
<div class="highlight"><pre><span></span>python3 /usr/src/TorchCraft/examples/py/example.py -t 127.0.0.1
</pre></div>


<p>if you follow the steps your output read hopefully:</p>
<div class="highlight"><pre><span></span>CTRL-C to stop
</pre></div>


<p>You are ready to start a new Brood War bot using Python on Linux, we hope this tutorial provide a good start, after this short success.. learn how to run the game and <a href="https://spacebeam.org/2020/07/10/gather-minerals-train-a-worker-build-a-refinery-and-extract-vespene-gas/">gather resources</a> growing a Terran economy. </p>                </article>
            </aside><!-- /#featured -->
        <section id="extras" class="body">
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>