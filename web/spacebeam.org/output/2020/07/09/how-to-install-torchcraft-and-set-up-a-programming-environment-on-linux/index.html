<!DOCTYPE html>
<html lang="en">
<head>
          <title>Spacebeam: Distributed Artificial Intelligence</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta charset="utf-8" />
        <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Spacebeam: Distributed Artificial Intelligence Full Atom Feed" />
        <link href="/feeds/updates.atom.xml" type="application/atom+xml" rel="alternate" title="Spacebeam: Distributed Artificial Intelligence Categories Atom Feed" />
        <!-- twitter card metadata -->
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="/images/logo.png">
<meta name="twitter:site" content="@SpacebeamOrg">
<meta name="twitter:title" content="How To Install TorchCraft and Set Up a Programming Environment on Linux">
<meta name="twitter:description" content="TorchCraft is a BWAPI module that sends StarCraft data out over a ZMQ connection. This lets you parse game data and interact with BWAPI.">
        <!-- OG Tags -->
<meta property="og:url" content="/2020/07/09/how-to-install-torchcraft-and-set-up-a-programming-environment-on-linux/"/>
<meta property="og:title" content="Spacebeam: Distributed Artificial Intelligence | How To Install TorchCraft and Set Up a Programming Environment on Linux" />
<meta property="og:description" content="TorchCraft is a BWAPI module that sends StarCraft data out over a ZMQ connection. This lets you parse game data and interact with BWAPI." />
        <!-- favicon -->
        <link rel="icon" type="image/png" href="/images/logo.png">
        <!-- moment.js for date formatting -->
        <script src="/theme/js/moment.js"></script>
        <!-- css -->
        <link rel="stylesheet" type="text/css" href="/theme/css/main.css" />
		<script>

                /*! grunt-grunticon Stylesheet Loader - v2.1.2 | https://github.com/filamentgroup/grunticon | (c) 2015 Scott Jehl, Filament Group, Inc. | MIT license. */

    (function(e){function t(t,n,r,o){"use strict";function a(){for(var e,n=0;u.length>n;n++)u[n].href&&u[n].href.indexOf(t)>-1&&(e=!0);e?i.media=r||"all":setTimeout(a)}var i=e.document.createElement("link"),l=n||e.document.getElementsByTagName("script")[0],u=e.document.styleSheets;return i.rel="stylesheet",i.href=t,i.media="only x",i.onload=o||null,l.parentNode.insertBefore(i,l),a(),i}var n=function(r,o){"use strict";if(r&&3===r.length){var a=e.navigator,i=e.Image,l=!(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect||!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")||e.opera&&-1===a.userAgent.indexOf("Chrome")||-1!==a.userAgent.indexOf("Series40")),u=new i;u.onerror=function(){n.method="png",n.href=r[2],t(r[2])},u.onload=function(){var e=1===u.width&&1===u.height,a=r[e&&l?0:e?1:2];n.method=e&&l?"svg":e?"datapng":"png",n.href=a,t(a,null,null,o)},u.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",document.documentElement.className+=" grunticon"}};n.loadCSS=t,e.grunticon=n})(this);(function(e,t){"use strict";var n=t.document,r="grunticon:",o=function(e){if(n.attachEvent?"complete"===n.readyState:"loading"!==n.readyState)e();else{var t=!1;n.addEventListener("readystatechange",function(){t||(t=!0,e())},!1)}},a=function(e){return t.document.querySelector('link[href$="'+e+'"]')},c=function(e){var t,n,o,a,c,i,u={};if(t=e.sheet,!t)return u;n=t.cssRules?t.cssRules:t.rules;for(var l=0;n.length>l;l++)o=n[l].cssText,a=r+n[l].selectorText,c=o.split(");")[0].match(/US\-ASCII\,([^"']+)/),c&&c[1]&&(i=decodeURIComponent(c[1]),u[a]=i);return u},i=function(e){var t,o,a;o="data-grunticon-embed";for(var c in e)if(a=c.slice(r.length),t=n.querySelectorAll(a+"["+o+"]"),t.length)for(var i=0;t.length>i;i++)t[i].innerHTML=e[c],t[i].style.backgroundImage="none",t[i].removeAttribute(o);return t},u=function(t){"svg"===e.method&&o(function(){i(c(a(e.href))),"function"==typeof t&&t()})};e.embedIcons=i,e.getCSS=a,e.getIcons=c,e.ready=o,e.svgLoadedCallback=u,e.embedSVG=u})(grunticon,this);

                grunticon(["/theme/css/icons.data.svg.css", "/theme/css/icons.data.png.css", "/theme/css/icons.fallback.css"]);
            </script>
        <noscript><link href="/theme/css/icons.fallback.css" rel="stylesheet"></noscript>
        <!-- menu toggle javascript -->
        <script type="text/javascript">
            document.addEventListener("DOMContentLoaded", initMenu);

            function initMenu(){
                var menu = document.getElementById("menu");
                var menulink = document.getElementById("menu-link");
                menulink.addEventListener("click", function toggleMenu(){
                        window.event.preventDefault();
                        menulink.classList.toggle('active');
                        menu.classList.toggle('active');
                    });
            };
        </script>

    <meta name="description" content="TorchCraft is a BWAPI module that sends StarCraft data out over a ZMQ connection. This lets you parse game data and interact with BWAPI." />

    <meta name="tags" content="guide" />

</head>
<body>
    <div role="banner" id="masthead">
        <header>
            <a href="/"><img src="/images/logo.png" alt="McManus Logo"></a>
            <a href="#menu" id="menu-link">more</a>
            <nav id="menu">
                <ul>
                        <li><a href="/pages/about/">about</a></li>
                        <li><a href="/pages/research/">research</a></li>
                        <li><a href="/pages/technology/">technology</a></li>
                            <li class="active"><a href="/category/updates">updates</a></li>
                        <li class="tag-1">
                        <a href="/tag/guide/">
                        guide
                        </a>
                        </li>
                        <li class="tag-4">
                        <a href="/tag/zergs/">
                        zergs
                        </a>
                        </li>
                </ul>
            </nav>
        </header>
    </div>
        <div class="page" role="main">
  <div class="article" role="article">
    <article>
        <footer>
            <a name="top"></a>
            <p>
              <time datetime=" 2020-07-09 00:00:00+02:00">
                <script>document.write(moment('2020-07-09 00:00:00+02:00').format('LL'));</script>
              </time>
            </p>
        </footer>
        <header>
          <h2>
            How To Install TorchCraft and Set Up a Programming Environment on Linux
          </h2>
        </header>
      <div class="content">
         <p><img class="[class name(s)]" src="/images/python.jpg"></p>
<p>Python is an interpreted, high-level, general-purpose programming language with strengths in automation, data analysis and machine learning.</p>
<p>This tutorial will walk you through installing Python 3 and setting up a programming environment on Debian 10.</p>
<h2>Step 0 - Update and Upgrade</h2>
<p>Logged into your system as root, first update and upgrade to ensure your shipped version of Python 3 is up-to-date.</p>
<div class="highlight"><pre><span></span>apt update
</pre></div>


<div class="highlight"><pre><span></span>apt upgrade
</pre></div>


<p>Confirm upgrade when prompted to do so.</p>
<h2>Step 1 - Check Version of Python</h2>
<p>Check your version of Python 3 installed by typing:</p>
<div class="highlight"><pre><span></span>python3 --version
</pre></div>


<p>You'll receive output similar to the following.</p>
<div class="highlight"><pre><span></span>Python 3.7.3
</pre></div>


<h2>Step 2 - Install pip</h2>
<p>To manage software packages for Python, install <code>pip</code>, the standard package installer for Python. You can use pip to install things from the official package index and other indexes. </p>
<div class="highlight"><pre><span></span>apt install -y python3-pip
</pre></div>


<p>Python packages can be installed by typing:</p>
<div class="highlight"><pre><span></span>pip3 install schematics 
</pre></div>


<p>Here, <code>schematics</code> can refer to any Python package, such as tornado for backend development or NumPy for scientific computing. </p>
<h2>Step 3 - Install Additional Tools</h2>
<p>There are a few more packages and development tools to install to ensure that we have a robust set-up for our StarCraft: Brood War Python TorchCraft bots programming environment:</p>
<div class="highlight"><pre><span></span>apt -y install --install-recommends vim git apt-transport-https\
 gnupg2 wget software-properties-common curl build-essential\
 gfortran sudo pkg-config make cmake libyaml-0-2 libyaml-dev
</pre></div>


<div class="highlight"><pre><span></span>dpkg --add-architecture i386
</pre></div>


<div class="highlight"><pre><span></span>apt-add-repository contrib 
</pre></div>


<div class="highlight"><pre><span></span>apt -y install --install-recommends libgnutls30:i386 libldap-2.4-2:i386\
 libgpg-error0:i386 libxml2:i386 libasound2-plugins:i386 libsdl2-2.0-0:i386\
 libfreetype6:i386 libdbus-1-3:i386 libsqlite3-0:i386 libgl1-mesa-glx:i386\
 libgl1-mesa-dri:i386 libsdl2-2.0-0 libstb0 libstb0:i386 mesa-vulkan-drivers
</pre></div>


<h2>Step 4 - Add the WineHQ Debian repository</h2>
<p>Get and install the repository key.</p>
<div class="highlight"><pre><span></span>wget -nc https://dl.winehq.org/wine-builds/winehq.key &amp;&amp; apt-key add winehq.key
</pre></div>


<div class="highlight"><pre><span></span>apt-add-repository &#39;deb https://dl.winehq.org/wine-builds/debian/ buster main&#39;
</pre></div>


<div class="highlight"><pre><span></span>apt update &amp;&amp; rm winehq.key
</pre></div>


<h2>Step 5 - Install libfaudio0 and Wine</h2>
<p>Starting on Wine &gt;= 4.5, libfaudio0 is required by the staging packages provided by WineHQ but is not included in the Wine HQ packages, which means you are responsible for making libfaudio0 available prior to installing Wine. This explains how to obtain libfaudio0 for Debian 10.</p>
<div class="highlight"><pre><span></span>wget -nc https://download.opensuse.org/repositories/Emulators:/Wine:/Debian/Debian_10/amd64/libfaudio0_20.01-0~buster_amd64.deb
</pre></div>


<div class="highlight"><pre><span></span>wget -nc https://download.opensuse.org/repositories/Emulators:/Wine:/Debian/Debian_10/i386/libfaudio0_20.01-0~buster_i386.deb
</pre></div>


<div class="highlight"><pre><span></span>dpkg -i libfaudio0_20.01-0~buster_amd64.deb
</pre></div>


<div class="highlight"><pre><span></span>dpkg -i libfaudio0_20.01-0~buster_i386.deb
</pre></div>


<div class="highlight"><pre><span></span>apt -y install --install-recommends winehq-staging winetricks
</pre></div>


<h2>Step 6 - Configuring WINE</h2>
<p>Many programs work under WINE with absolutely no configuration.. unfortunately, this isn't always the case.</p>
<h3>(default) using your own <code>non-root</code> user</h3>
<p>The following commands MUST be executed as a normal non-root user, if you already have an existing wine setup, you can <em>REMOVE</em> it and start clean with <code>rm -rf ~/.wine/</code></p>
<div class="highlight"><pre><span></span>$ <span class="nv">WINEARCH</span><span class="o">=</span>win32<span class="p">;</span> wineboot
</pre></div>


<div class="highlight"><pre><span></span>$ winetricks -q vcrun2012
</pre></div>


<div class="highlight"><pre><span></span>$ winetricks -q vcrun2013
</pre></div>


<div class="highlight"><pre><span></span>$ winetricks -q vcrun2015
</pre></div>


<h3>(optional) using a separate <code>wine</code> user</h3>
<div class="highlight"><pre><span></span>adduser --disabled-login --gecos &quot;&quot; --shell /forbid/login wine
</pre></div>


<div class="highlight"><pre><span></span>usermod --append --groups audio wine
</pre></div>


<div class="highlight"><pre><span></span>chown wine:wine -R /home/wine
</pre></div>


<div class="highlight"><pre><span></span>sudo -u wine env HOME=/home/wine USER=wine USERNAME=wine LOGNAME=wine WINEARCH=win32 wineboot
</pre></div>


<div class="highlight"><pre><span></span>sudo -u wine env HOME=/home/wine USER=wine USERNAME=wine LOGNAME=wine winetricks -q vcrun2012
</pre></div>


<div class="highlight"><pre><span></span>sudo -u wine env HOME=/home/wine USER=wine USERNAME=wine LOGNAME=wine winetricks -q vcrun2013
</pre></div>


<div class="highlight"><pre><span></span>sudo -u wine env HOME=/home/wine USER=wine USERNAME=wine LOGNAME=wine winetricks -q vcrun2015
</pre></div>


<h2>Step 7 - StarCraft: Brood War 1.16.1</h2>
<p>At the moment StarCraft: Remastered is <em>NOT</em> yet supported, the only working version is 1.16.1.</p>
<div class="highlight"><pre><span></span>git clone https://github.com/spacebeam/starcraft-sif.git /usr/src/starcraft-sif
</pre></div>


<p>In this tutorial we have StarCraft installed in <code>/opt/StarCraft/</code></p>
<div class="highlight"><pre><span></span>cat /usr/src/starcraft-sif/include/core/core* &gt; /opt/StarCraft.tar.gz
</pre></div>


<div class="highlight"><pre><span></span>tar -zxvf /opt/StarCraft.tar.gz -C /opt/
</pre></div>


<h3>Installing the provided Python examples</h3>
<p>This will install Tornado, PyTorch, PyZMQ, NumPy and SciPy!</p>
<div class="highlight"><pre><span></span>pip3 install -r /usr/src/starcraft-sif/examples/blueberry/requirements.txt
</pre></div>


<h3>Installing TorchCraft</h3>
<div class="highlight"><pre><span></span>git clone https://github.com/TorchCraft/TorchCraft.git /usr/src/TorchCraft --recursive
</pre></div>


<div class="highlight"><pre><span></span>pip3 install /usr/src/TorchCraft
</pre></div>


<h2>Step 8 - Coding &amp; Building</h2>
<p>Lets continue this tutorial with the ambitious goal of create a small Terran bot with a single timing attack, but first.. check that everything is installed correctly and that we can run the original examples.</p>
<div class="highlight"><pre><span></span>python3 /usr/src/TorchCraft/examples/py/example.py -t 127.0.0.1
</pre></div>


<p>if you follow the steps your output read hopefully:</p>
<div class="highlight"><pre><span></span>CTRL-C to stop
</pre></div>


<p>You are ready to start a new Brood War bot using Python on Linux, we hope this tutorial provide a good start, after this short success.. learn how to run the game and <a href="https://spacebeam.org/2020/07/10/gather-minerals-train-a-worker-build-a-refinery-and-extract-vespene-gas/">gather resources</a> growing a Terran economy. </p>
      </div>
      <div class="back-to-top">
          <a href="#top">back to top</a>
      </div>
    </article>
  </div>
<!-- end article -->
                <footer>
                    <div class="icons">
                        <a href="https://github.com/spacebeam" target="_blank"><div class="icon-github icon"></div></a>
                        <a href="https://twitter.com/SpacebeamOrg" target="_blank"><div class="icon-twitter icon"></div></a>
                        <a href="https://discord.com/invite/SFpVE5Z" target="_blank"><div class="icon-discord icon"></div></a>
                    </div>
                    <p>© <script>document.write(moment().format('YYYY'));</script> The Spacebeam authors</p>
                </footer>
        </div>
</body>
</html>